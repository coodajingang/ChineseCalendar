<!DOCTYPE html>
<html lang="zh">
<meta name="keywords" content="農曆, 干支, 生肖, 干支紀年, 干支紀月, 干支紀日, 干支紀時, 月建, 正月, 五虎遁月歌" />
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<head>
<title>六 十 干 支</title>
<link rel="stylesheet" href="calendar_chinese.css">
<script src="header.js"></script>
</head>

<body onload="header(1,'sexagenary','sexagenary')">
<div id="wrapper0">
<div id="menu"></div>
<div id="language"></div>
    
<h1>六 十 干 支</h1>
<p>初稿: 2018年10月&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;最近一次重大修訂: 2019年7月7日</p>

<br />    
<p>干支是中國傳統的紀數系統，現在還在使用。干支紀數是由天干和地支組合。天干有十個，地支有十二個，每一個地支有一種動物與之對應，稱為生肖或屬相。下表列出所有天干﹑地支及其對應的十二生肖。</p>
    
  <br /> 
<table id="stemsNbranches">
    <caption>表 一: 天 干 和 地 支</caption>
<tr><td></td><th>天干</th> <td></td> <th>地支</th> <th>生肖</th></tr>
    
<tr><td>1</td> <td>甲</td> <td>1</td> <td>子</td> <td>鼠</td></tr>
    
<tr><td>2</td> <td>乙</td> <td>2</td> <td>丑</td> <td>牛</td></tr>
    
<tr><td>3</td> <td>丙</td> <td>3</td> <td>寅</td> <td>虎</td></tr>
    
<tr><td>4</td> <td>丁</td> <td>4</td> <td>卯</td> <td>兔</td></tr>
    
<tr><td>5</td> <td>戊</td> <td>5</td> <td>辰</td> <td>龍</td></tr>
    
<tr><td>6</td> <td>己</td> <td>6</td> <td>巳</td> <td>蛇</td></tr>
    
<tr><td>7</td> <td>庚</td> <td>7</td> <td>午</td> <td>馬</td></tr>
    
<tr><td>8</td> <td>辛</td> <td>8</td> <td>未</td> <td>羊</td></tr>
    
<tr><td>9</td> <td>壬</td> <td>9</td> <td>申</td> <td>猴</td></tr>
    
<tr><td>10</td> <td>癸</td> <td>10</td> <td>酉</td> <td>雞</td></tr>
    
<tr><td rowspan="2" colspan="2"></td> <td>11</td> <td>戌</td> <td>狗</td></tr>

<tr><td>12</td> <td>亥</td> <td>豬</td></tr>
</table>
       <br />
    
<p>干支紀數由甲子(1,1)起，然後是乙丑(2,2)、丙寅(3,3)、丁卯(4,4)……癸酉(10,10)。到癸酉時天干用盡了，之後的規則是凡是天干或地支用盡後須從頭數起，所以癸酉之後是甲戌(1,11)、乙亥(2,12)、丙子等等直到癸亥(10,12)。癸亥後的干支是甲子(1,1)，然後是乙丑(2,2)等等循環不息。如下表所示，從甲子到癸亥一共有六十個干支。</p>
    
<table id="sexagenary">
    <caption>表 二: 六 十 干 支</caption>
    <tr>
        <td>1</td><td>甲子</td>
        <td>16</td><td>己卯</td>
        <td>31</td><td>甲午</td>
        <td>46</td><td>己酉</td>
        </tr>
        <tr>
        <td>2</td><td>乙丑</td>
        <td>17</td><td>庚辰</td>
        <td>32</td><td>乙未</td>
        <td>47</td><td>庚戌</td>
        </tr>
        <tr>
        <td>3</td><td>丙寅</td>
        <td>18</td><td>辛巳</td>
        <td>33</td><td>丙申</td>
        <td>48</td><td>辛亥</td>
        </tr>
        <tr>
        <td>4</td><td>丁卯</td>
        <td>19</td><td>壬午</td>
        <td>34</td><td>丁酉</td>
        <td>49</td><td>壬子</td>
        </tr>
        <tr>
        <td>5</td><td>戊辰</td>
        <td>20</td><td>癸未</td>
        <td>35</td><td>戊戌</td>
        <td>50</td><td>癸丑</td>
        </tr>
        <tr>
        <td>6</td><td>己巳</td>
        <td>21</td><td>甲申</td>
        <td>36</td><td>己亥</td>
        <td>51</td><td>甲寅</td>
        </tr>
        <tr>
        <td>7</td><td>庚午</td>
        <td>22</td><td>乙酉</td>
        <td>37</td><td>庚子</td>
        <td>52</td><td>乙卯</td>
        </tr>
        <tr>
        <td>8</td><td>辛未</td>
        <td>23</td><td>丙戌</td>
        <td>38</td><td>辛丑</td>
        <td>53</td><td>丙辰</td>
        </tr>
        <tr>
        <td>9</td><td>壬申</td>
        <td>24</td><td>丁亥</td>
        <td>39</td><td>壬寅</td>
        <td>54</td><td>丁巳</td>
        </tr>
        <tr>
        <td>10</td><td>癸酉</td>
        <td>25</td><td>戊子</td>
        <td>40</td><td>癸卯</td>
        <td>55</td><td>戊午</td>
        </tr>
        <tr>
        <td>11</td><td>甲戌</td>
        <td>26</td><td>己丑</td>
        <td>41</td><td>甲辰</td>
        <td>56</td><td>己未</td>
        </tr>
        <tr>
        <td>12</td><td>乙亥</td>
        <td>27</td><td>庚寅</td>
        <td>42</td><td>乙巳</td>
        <td>57</td><td>庚申</td>
        </tr>
        <tr>
        <td>13</td><td>丙子</td>
        <td>28</td><td>辛卯</td>
        <td>43</td><td>丙午</td>
        <td>58</td><td>辛酉</td>
        </tr>
        <tr>
        <td>14</td><td>丁丑</td>
        <td>29</td><td>壬辰</td>
        <td>44</td><td>丁未</td>
        <td>59</td><td>壬戌</td>
        </tr>
        <tr>
        <td>15</td><td>戊寅</td>
        <td>30</td><td>癸巳</td>
        <td>45</td><td>戊申</td>
        <td>60</td><td>癸亥</td>
    </tr>
</table>
    
<br />
<p>由於干支數是循環的，表一和表二並非顯示干支的最好方法，較好的方法是將天干和地支排列在圓環之上:</p>
<br />
<p>
    <img src="stems_chinese.png" alt="天干圖" style="max-width:100%;" />
    <img src="branches_chinese.png" alt="地支圖" style="max-width:100%;" />
</p>
<br />
<p><img src="sexagenary_chinese.png" alt="六十干支圖" style="max-width:100%;" /></p>
<br />
<p>從這些圖可見每一個天干、地支和干支組合地位平等，現在天干、地支和干支的數序只是根據傳統的習慣來定而已。
</p>

<p>干支可用來紀年﹑紀月﹑紀日和紀時，但是現在已很少用干支來紀月﹑紀日和紀時了。下面簡略介紹如何用干支來紀年﹑紀月﹑紀日和紀時。</p>
<br />

<h2>干 支 紀 年</h2>
    
<p>現在的農曆年一般只用干支紀年，六十年循環一週。最近一週始於1984年農曆甲子年。其他公曆y年的農曆年干支可用同餘算術算出。所謂公曆y年的農曆年是指年首最接近公曆y年1月1日的農曆年。例如2018年的農曆年是指農曆戊戌年，始於公曆2018年2月16日，終於2019年2月4日。</p>
    
<p>農曆年的天干十年循環一週，年地支十二年循環一週。已知1984年的農曆年干支為甲子，以mod(X,Y)表示X除以Y後所得之餘數，可推出公曆y年之農曆年天干數為 1 + mod(y+6, 10)，即將公曆年數加六，除以十，然後把所得的餘數加一。年地支數為 1 + mod(y+8, 12)。依此可算出2018年之農曆年天干數為五，即戊，地支數為十一，即戌。所以2018年之農曆年干支是戊戌。</p>
    
    <br />
<h2 id="jian">月 建 和 「三 正」</h2>
    
<p>月建是指農曆月的地支名，但不計閏月，閏月沒有月建。由於一年有十二個月(不計閏月)，每一個月有固定的月建。建子月取含冬至的月份，建丑月是下一個月(不計閏月)，餘類推。月建在早期曆法頗為重要。</p>
    
<p>傳說早期各朝代以不同的月建作為一年的年首。據說夏代以建寅(即現在的正月)的月份為第一個月;商朝以建丑(即現在的十二月)為第一個月;周朝以建子的月份(現在的十一月)為第一個月。每次更改月份次序，就把更改後的第一個月稱為「正月」，「正」是改正的意思。所以夏正為建寅，殷正為建丑，周正為建子。夏正﹑殷正和周正稱為「三正」。</p>
    
<p>現在一般認為三正之傳說不可信。戰國時代，各國施行不同曆法，當時通行的曆法主要有六種:周曆、魯曆、殷曆、夏曆、黃帝曆和顓頊曆，合稱「<a href="guliuli_chinese.html">古六曆</a>」。六曆之名並非是不同時期不同朝代所制定，而是戰國時期的曆法家托古而作。所謂「三正」，只是指夏曆、殷曆和周曆所用的三個不同年首。所以「三正」不是夏商周三朝交替使用的曆法年首，而是春秋戰國時期不同地域施行曆法的三個不同年首。</p>
    
<p>秦朝的曆法和顓頊曆很接近，兩者都是以建亥(現在的十月)作為一年之始，但仍依夏曆稱建亥為十月，曆法的月序是十月、十一月、十二月、正月、二月……九月。漢朝建立後基本上沿用秦曆，直到漢武帝太初元年(公元前104年)才頒行新曆法，以建寅(正月)為年首。此後二千多年來，除了王莽和魏明帝一度改用殷正，武則天和唐肅宗一度改用周正外，一般都用夏正，到現在仍通行。</p>
    
<p>最後要指出，「建」是指北斗七星的斗柄，即玉衡、開陽和瑤光三星(見圖一)。方位可用十二地支表示，方法是將地平圈分為十二等分來配十二地支，北方是子，東方是卯，南方是午，西方是酉(見圖二)。在古代，北斗七星比現在更接近北天極，在中原地區(約北緯35&deg;)大約在唐朝以前斗柄全年都在地平線之上，那時冬至傍晚可見斗柄指向北(子)，所以含冬至的月份稱為建子。由於歲差的原故，現在北斗七星離北天極較遠。在中原地區，冬至傍晚瑤光在地平線以下，玉衡和開陽在北方地平線附近。現在要去到北緯41&deg;以北的地方才可看到斗柄北指。北緯41&deg;大概在現在的內蒙古呼和浩特市、河北省承德市、遼寧省錦州市等地區。</p>
    
<p><figure>
    <img src="Dipper_chinese.png" alt="北斗七星" style="max-width:100%;" />
    <figcaption>圖一: 北斗七星</figcaption>
</figure><figure>
<img src="direction_branch_chinese.png" alt="地支與方位" style="max-width:100%;" />
<figcaption>圖二: 地支與方位</figcaption>
</figure></p>

    
<br />
<h2>干 支 紀 月</h2>
    
<p>干支紀月較為複雜，據<a href="https://zh.wikipedia.org/zh-hant/%E5%B9%B2%E6%94%AF#%E5%B9%B2%E6%94%AF%E7%BA%AA%E6%9C%88" target="_blank">維基百科</a>所述，有兩種干支紀月法。我在<a href="index_chinese.html">年曆</a>網頁裡使用了第一種紀月法。其實干支紀月即使在古代的史書和日曆裡也不常用，干支紀月最常用於占卜和風水。年曆網頁裡自漢武帝太初元年(公元前104年)起才註有月干支。這裡姑且也簡單介紹兩種干支紀月法。</p>
    <br />
<h3>第一種紀法</h3>
    
<p>此一紀法以農曆月配干支，但不計閏月，閏月的干支取上一月的干支。紀法是把月建配上天干，六十月(即五年)循環一週。由於年天干的週期是十年，年干與月干有二對一的對應關係。例如年干為甲或己時，正月的干支必然是丙寅，二月是丁卯，其餘可以類推。下表列出月干支與年天干的關係。</p>
    
    <br />
<table>
<tr><th>年天干</th> <th>正月</th> <th>二月</th> <th>三月</th> 
<th>四月</th> <th>五月</th> <th>六月</th> <th>七月</th> 
    <th>八月</th> <th>九月</th> <th>十月</th> <th>十一月</th> 
    <th>十二月</th> </tr>
<tr><td>甲、己</td> <td>丙寅</td> <td>丁卯</td> <td>戊辰</td>
    <td>己巳</td> <td>庚午</td> <td>辛未</td> <td>壬申</td> 
    <td>癸酉</td> <td>甲戌</td> <td>乙亥</td> <td>丙子</td> 
    <td>丁丑</td></tr>
<tr><td>乙、庚</td> <td>戊寅</td> <td>己卯</td> <td>庚辰</td>
    <td>辛巳</td> <td>壬午</td> <td>癸未</td> <td>甲申</td>
    <td>乙酉</td> <td>丙戌</td> <td>丁亥</td> <td>戊子</td> 
    <td>己丑</td></tr>
<tr><td>丙、辛</td> <td>庚寅</td> <td>辛卯</td> <td>壬辰</td>
    <td>癸巳</td> <td>甲午</td> <td>乙未</td> <td>丙申</td>
    <td>丁酉</td> <td>戊戌</td> <td>己亥</td> <td>庚子</td> 
    <td>辛丑</td></tr>
<tr><td>丁、壬</td> <td>壬寅</td> <td>癸卯</td> <td>甲辰</td>
    <td>乙巳</td> <td>丙午</td> <td>丁未</td> <td>戊申</td>
    <td>己酉</td> <td>庚戌</td> <td>辛亥</td> <td>壬子</td> 
    <td>癸丑</td></tr>
<tr><td>戊、癸</td> <td>甲寅</td> <td>乙卯</td> <td>丙辰</td>
    <td>丁巳</td> <td>戊午</td> <td>己未</td> <td>庚申</td>
    <td>辛酉</td> <td>壬戌</td> <td>癸亥</td> <td>甲子</td> 
    <td>乙丑</td></tr>
</table>
    <br />
    
<p>從上表可方便算出任何農曆年的月干支。例如2018年是農曆戊戌年，從上表可知年天干為戊的五月干支是戊午，所以戊戌年的五月干支是戊午。有《五虎遁月歌》歌訣以便記憶正(寅)月的月干與年干的關係: 甲己之年丙作初，乙庚之歲戊為頭，丙辛歲首從庚起，丁壬壬位順流行，若問戊癸何方法，甲寅之上好推求。</p>
    
<p>其實要算出某年的月干只需記住年干為甲時正月的月干是丙就可以了，其他月的月干可先計算其與甲年干的月數，然後用同餘算術推出其月干。這裡以戊戌年五月為例，戊是甲之後的四個天干，所以如果以甲年算起，戊年五月就是甲年的 (4&times;12+5) 或五十三月，戊年五月的天干是丙往下數第五十二個天干，由於mod(52, 10) = 2，即五十二除以十之餘數為二，丙以後的第二個天干是戊，所以戊戌年的五月的干支是戊午。</p>

<p>這種紀法為明朝和清朝欽天監編的官方曆書所採用(見存世明清曆書，例如<a href="https://www.loc.gov/item/2014514059" target="_blank">明嘉靖三年大統曆</a>、<a href="https://www.loc.gov/item/2014514060/" target="_blank">清康熙九年時憲曆</a>等)，也用於近代曆書(例如《100年袖珍干支月曆》，劉寶琳(紫金山天文臺研究員)編，商務印書館(香港), 1993)。如上述，閏月沒有月建，據明清的曆書所載，閏月的月干支以月內之節氣劃分，節氣之前用前月的干支，節氣之後用下月的干支。例如清康熙九年閏二月，月內有節氣清分在閏二月十五，清明前用正月干支(己卯)，清明後用三月干支(庚辰)。</p>
<br />
    
<h3>第二種紀法</h3>
    
<p>這種紀法不依農曆的月份，而是根據二十四節氣分月。子月定為由大雪至小寒前一日，丑月定為由小寒至立春前一日等等。下表列出各月對應的節氣段，近似農曆月份，和近似的公曆日期。</p>
<br />
<table>
<tr><th>月地支</th> <th>節氣段</th> <th>近似農曆月份</th> <th>近似公曆日期</th></tr>
<tr><td>子</td> <td>大雪至小寒前一日</td> <td>十一月</td> <td>12月7日&ndash;1月5日</td></tr>
<tr><td>丑</td> <td>小寒至立春前一日</td> <td>十二月</td> <td>1月6日&ndash;2月3日</td></tr>
<tr><td>寅</td> <td>立春至驚蟄前一日</td> <td>正月</td> <td>2月4日&ndash;3月5日</td></tr>
<tr><td>卯</td> <td>驚蟄至清明前一日</td> <td>二月</td> <td>3月6日&ndash;4月4日</td></tr>
<tr><td>辰</td> <td>清明至立夏前一日</td> <td>三月</td> <td>4月5日&ndash;5月5日</td></tr>
<tr><td>巳</td> <td>立夏至芒種前一日</td> <td>四月</td> <td>5月6日&ndash;6月5日</td></tr>
<tr><td>午</td> <td>芒種至小暑前一日</td> <td>五月</td> <td>6月6日&ndash;7月6日</td></tr>
<tr><td>未</td> <td>小暑至立秋前一日</td> <td>六月</td> <td>7月7日&ndash;8月7日</td></tr>
<tr><td>申</td> <td>立秋至白露前一日</td> <td>七月</td> <td>8月8日&ndash;9月7日</td></tr>
<tr><td>酉</td> <td>白露至寒露前一日</td> <td>八月</td> <td>9月8日&ndash;10月7日</td></tr>
<tr><td>戌</td> <td>寒露至立冬前一日</td> <td>九月</td> <td>10月8日&ndash;11月6日</td></tr>
<tr><td>亥</td> <td>立冬至大雪前一日</td> <td>十月</td> <td>11月7日&ndash;12月6日</td></tr>
</table>
    <br />
<p>二十四節氣是根據太陽在天球上的位置而定，不考慮月相，所以是純陽曆。公曆也是純陽曆，所以以上各月的公曆日期每年最多只有一兩日之差。農曆是陰陽曆，既考慮月相也顧及太陽位置，以上各月的起始日期在農曆中可以有多至三十日的變動。</p>
    
<p>古代稱由冬至到下一個冬至的週期為歲，稱由農年正月初一到下一年正月初一的週期為年。所以歲是純陽曆的概念，而年則屬陰陽曆。一歲的週期是三百六十五或三百六十六日，平均值接近回歸年(365.242日)。一年的週期大約是三百五十四日(無閏月時)或約三百八十四日(有閏月時)。用這種節氣定月的法則，一歲有十二個月，每月大至有三十或三十一日，沒有閏月。月份配上天干，六十月(即五歲)循環一週。</p>
<br />
    
<h2>干 支 紀 日</h2>
    
<p>日干支以六十天循環一週。中國最遲從春秋魯隱公三年(公元前720年)起就有史藉用干支紀日，距今已有二千七百多年，其間干支紀日既沒有間斷，又沒有發生過錯亂。</p>
    
<p>日的干支可從該日的儒略日數以同餘算術推出。儒略日數是指從公元前4713年1月1日正午起算的積日，所以每日正午的儒略日數是整數。這裡沒有說明所用的時間標準(UT1 或地方時等)，是假設了起算時刻(公元前4713年1月1日正午)和每日正午所指的時刻用相同的時間標準。公曆某月日的儒略日數有公式計算(例如<a href="https://zh.wikipedia.org/wiki/%E5%84%92%E7%95%A5%E6%97%A5" target="_blank">维基百科</a>)，我也建立了<a href="Julian_chinese.html">儒略日數和日干支計算器</a>網頁，提供公曆日期與儒略日數和日干支的轉換。</p>
    
<p>由於日干支的週期是六十天，只要知道某一儒略日數的日干支，便可用同餘算術推出儒略日數和日干支的關係。查<a href="index_chinese.html?y=2019">2019年曆</a>，得知公元2019年1月27日的日干支是甲子，而該日正午的儒略日數是2458511。從mod(2458511, 60) = 11，可推出某日正午儒略日數<span class="nowrap">JD<sub style='font-size:60%;'>正午</sub></span>與日干支的關係是</p>
<p>日干支數 S=1+mod(JD<sub style='font-size:60%;'>正午</sub>-11, 60)。&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(1)</p>
    
<p>此處干支數是指按上面<a href="sexagenary_chinese.html#sexagenary">表二</a>所列的干支次序，即1代表甲子、2代表乙丑、3代表丙寅等等。若以T代表天干數及B代表地支數，即T和B是上面<a href="sexagenary_chinese.html#stemsNbranches">表一</a>列出的天干和地支次序，則知道了S後便可用以下公式計算天干數和地支數:</p>
<p>T=1+mod(S-1, 10),&nbsp;&nbsp; B=1+mod(S-1, 12)。&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(2)</p>
    
<p>干支數S雖然在古代曆法計算中有時有用，但我認為在大多數情況下是不必要的。天干數T和地支數B可以直接用<span class="nowrap">JD<sub style='font-size:60%;'>正午</sub></span>計算。這可從日天干的週期是十天、日地支週期是十二天、以及上述<span class="nowrap">JD<sub style='font-size:60%;'>正午</sub></span>=2458511對應的日干支是甲子(T=1、B=1)推出。從mod(2458511, 10) = 1及mod(2458511, 12) = 11得出以下公式:</p>
    
<p>T=1+mod(JD<sub style='font-size:60%;'>正午</sub>-1,10)， B=1+mod(JD<sub style='font-size:60%;'>正午</sub>+1,12)。&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(3)</p>
    
<p>這公式甚為方便，尤其是我們用十進制，天干數T根本不用計算。T基本上就是<span class="nowrap">JD<sub style='font-size:60%;'>正午</sub></span>的最後一個數位的數，唯一例外是如果該數是0，則T是10。現在看一算例:公元1781年3月13日正午的儒略日數是2371629，因此T=9，天干是壬;B=1+mod(2371630,12)=11，地支是戌，所以日干支是壬戌。</p>
    
<p>順帶一提，用<span class="nowrap">JD<sub style='font-size:60%;'>正午</sub></span>也很容易計算星期。星期的週期是七天，已知2019年1月27日是星期日、<span class="nowrap">JD<sub style='font-size:60%;'>正午</sub></span>=2458511、mod(2458511, 7)=6，由此可推出星期數W和<span class="nowrap">JD<sub style='font-size:60%;'>正午</sub></span>的關係如下:</p>
<p>W = mod(JD<sub style='font-size:60%;'>正午</sub>+1, 7)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(4)</p>
<p>星期數W=0代表星期日、W=1代表星期一、W=2代表星期二等等。<a href="index_chinese.html">年曆網頁</a>的星期就是用公式(4)計算。</p>
    
<p>又順帶一提，知道了干支數S後，天干數T和地支數B可用公式(2)輕易計算。反過來，知道天干數T和地支數B後，要求干支數S就要解以下的同餘方程:</p>
<p>S &equiv; T (mod 10), &nbsp;&nbsp; S &equiv; B (mod 12)。</p>
<p>此處&equiv;符號表示同餘。上面公式是說S-T可被10整除、S-B可被12整除。如果不熟悉同餘算術，要找出一條算式來表示S也許會有點困難。對於某一特定的T和B，當然可以查<a href="sexagenary_chinese.html#sexagenary">表二</a>找到答案。如果認為查表二等於「作弊」，可以用以下公式計算:</p>
<p>先算 k=6T-5B，如果k&gt;0，則 S=k; 如果k&le;0，則 S=k+60。也可以證明k&gt;0等同於T&ge;B，k&le;0等同於T&lt;B，而T-B必定是偶數。<sup><a href="sexagenary_chinese.html#fn1">[1]</a></sup></p>
<p>以上面算出的壬戌干支為例，T=9、B=11，k=6&times;9-5&times;11=-1，所以S=59，正是<a href="sexagenary_chinese.html#sexagenary">表二</a>列出壬戌的干支次序。</p>
    
<p>以上所述的同餘算術問題並不難。我沒有正式學過同餘算術理論，但仍能輕易求出其解，原因是求解過程中不須要用到如<a href="https://zh.wikipedia.org/zh-tw/%E5%A4%A7%E8%A1%8D%E6%B1%82%E4%B8%80%E6%9C%AF" target="_blank">大衍求一術</a>這樣精妙的算法<sup><a href="sexagenary_chinese.html#fn2">[2]</a></sup>。稍為艱難的算題見於《孫子算經》，即著明的「物不知數」算題:<sup><a href="sexagenary_chinese.html#fn3">[3]</a></sup>「今有物不知其數，三三數之剩二，五五數之剩三，七七數之剩二。問物幾何？」用現代數學算式表示，就是要求一整數x，使得</p>
<p>x &equiv; 2 (mod 3)， &nbsp; x &equiv; 3 (mod 5)， &nbsp; x &equiv; 2 (mod 7)。</p>
<p>中國古代學者在計算曆法時遇到了不少同餘算術問題(尤其是計算<a href="Shangyuan_chinese.html">上元積年</a>)，很可能因此深入研究同餘算術，發現了著明的<a href="https://baike.baidu.com/item/%E5%AD%99%E5%AD%90%E5%AE%9A%E7%90%86" target="_blank">孫子定理</a>，西方稱為「中國剩餘定理」。</p>
<br />
    
<h2>干 支 紀 時</h2>
    
<p>古時將一日分為十二時辰。用現在通用的時間系統來說，一時辰相當於現在的二小時。十二時辰正好配十二地支，所以時辰一般只提地支，不理天干。以現時通用的時間系統來說，子時是晚上十一時至凌晨一時，丑時是凌晨一時至三時，其餘可以類推。</p>
    
<p>十二時辰配上天干後，就有六十時辰(即五日)的週期。日干的週期是十日，所以日干與時干有二對一的對應關係，頗似年干與月干的關係。日干與時干也有類似的對照表，但我認為只須知道日干為甲的子時天干是甲就可以了，其他時干可用同餘算術推出。這裡以丁日的未時為例，丁是甲之後的第三個天干，未是第八個地支，丁日的未時即從甲日算起的第(3&times;12 + 8)個時辰，即第四十四個時辰，所以其天干是從甲起往下數四十三個天干，四十三除以十餘數是三，甲之後第三個天干是丁，所以丁日未時的時辰干支是丁未。</p>
<br /><hr />
<h2>備 註</h2>
<ul style="list-style-type:none;">
<li id="fn1"><p><span class="ref">[1]</span> 要驗證S的公式確能滿足方程(2)不難。首先是把S的公式寫成:</p>
<p>S = 6T - 5B + 60n，如果T&ge;B，則n=0;如果T&lt;B，則n=1。</p>
<p>由於T和B之差必是偶數，可把B寫成<span class="nowrap">B=T+2j</span>，這裡j是某整數，把此式代入S的公式便得:</p>
<p>S = T - 10j + 60n。由於10j和60n都可被10整除，所以</p>
<p>mod(S-1, 10) = mod(T-1, 10) = T-1。</p>
<p>這公式符合方程(2)的左邊公式。最後一個等式成立是因為T-1是0和9之間的整數。</p>
<p>用<span class="nowrap">T=B-2j</span>代入S的公式得出</p>
<p>S = B - 12j + 60n。由於12j和60n都可被12整除，所以</p>
<p>mod(S-1, 12) = mod(B-1, 12) = B-1，符合方程(2)的右邊公式。</p>
</li>
    <br />
<li id="fn2"><p><span class="ref">[2]</span> 我的推導方法是把S的同餘方程寫成以下公式:</p>
<p>S=T+10i,&nbsp;   S = B+12j, i和j是某整數。</p>
<p>&rArr; &nbsp; T+10i = B+12 j</p>
<p>&rArr; &nbsp; 6j-5i = (T-B)/2.</p>
<p>i=j=(T-B)/2顯然是一解，所以</p>
<p>S = T+10i = T+5(T-B) = 6T-5B，但當T&lt;B時，此數是負數或0，所以此時要加上60使S規範在1和60之間。</p>
<p>這推導中最關鍵的一步是求兩整數p和q滿足方程<span class="nowrap">6p-5q=1</span>。求得p和q後，乘<span class="nowrap">(T-B)/2</span>就得i和j。這方程相當簡單，p=q=1明顯是一解。如果要解的方程是<span class="nowrap">aj-bi=1</span>而a和b是其他整數，或許不會那麼容易猜到答案，那時就要用<a href="https://zh.wikipedia.org/zh-tw/%E5%A4%A7%E8%A1%8D%E6%B1%82%E4%B8%80%E6%9C%AF" target="_blank">大衍求一術</a>求解。</p>
</li>
    <br />
<li id="fn3"><p><span class="ref">[3]</span> 此算題相當著明，甚至連金庸武俠小說《射雕英雄傳》也引用。書中說郭靖和黃蓉離開瑛姑居所前，黃蓉出了三道算題考瑛姑，第三道題就是物不知數算題。後來黃蓉與瑛姑再碰面，問起那三道算題，瑛姑卻一道題也算不出，她對物不知數算題尤其感興趣:「這第三道題呢，說易是十分容易，說難卻又難到了極處……我知道這(答案)是二十三，不過那是硬湊出來的，要列一個每數皆可通用的算式，卻是想破了腦袋也想不出。」黃蓉於是說出答案:「以三三數之，餘數乘以七十；五五數之，餘數乘以二十一；七七數之，餘數乘十五。三者相加，如不大於一百零五，即為答數；否則須減去一百零五或其倍數。」</p>
<p>用現代數學的數式表示或會有助理解。用a、b、c表示未知數x被三、五、七除後所得之餘數，《孫子算經》給出的答案是</p>
<p>x = 70a + 21b + 15c - 105n，n是任意整數。</p>
<p>推導此式要用孫子定理，一般談論同餘算術的書藉或文章應該有論述(例如<a href="https://web.math.sinica.edu.tw/math_media/d233/23310.pdf" target="_blank">這篇文章</a>)。但是要驗證這答案確能滿足算題的要求卻不難:由於21b、15c和105n都可被三整除，mod(x,3) = mod(70a, 3) = mod(3&times;23a+a,3) = mod(a,3)=a，用類此計算可得mod(x,5)=b及mod(x,7)=c。</p>
</li>
</ul>
</div> <!-- end of wrapper -->
<br /><br />
</body>
</html>